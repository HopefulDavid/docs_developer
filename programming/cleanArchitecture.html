<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Clean Architecture: Kompletn&#237; pr≈Øvodce | V&#253;voj&#225;≈ô </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Clean Architecture: Kompletn&#237; pr≈Øvodce | V&#253;voj&#225;≈ô ">
      
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/HopefulDavid/docs_developer/blob/main/programming/cleanArchitecture.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="Dokumentace pro v&#253;voj&#225;≈ôe">
            Dokumentace pro v&#253;voj&#225;≈ôe
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="clean-architecture-kompletn√≠-pr≈Øvodce">Clean Architecture: Kompletn√≠ pr≈Øvodce</h1>

<h2 id="-√∫vod-co-je-clean-architecture">üë®‚Äçüíª √övod: Co je Clean Architecture?</h2>
<p><strong>Clean Architecture</strong> je metodika n√°vrhu softwaru, kter√° klade d≈Øraz na <strong>oddƒõlen√≠ byznys logiky</strong> od technick√Ωch detail≈Ø.</p>
<p>Ve≈°ker√Ω k√≥d, kter√Ω se zab√Ωv√° obchodn√≠mi pravidly, by mƒõl b√Ωt <strong>nez√°visl√Ω</strong> na technologi√≠ch jako datab√°ze, frameworky nebo extern√≠ slu≈æby.</p>
<p>Tato metoda podporuje:</p>
<ul>
<li><strong>Modularitu</strong>: K√≥d je rozdƒõlen√Ω do <strong>vrstev</strong> podle jeho odpovƒõdnosti</li>
<li><strong>Testovatelnost</strong>: D√≠ky oddƒõlen√≠ logiky a implementac√≠ je snadn√© ps√°t <strong>jednotkov√© testy</strong></li>
<li><strong>√ödr≈æbu</strong>: D√≠ky jasn√©mu rozdƒõlen√≠ odpovƒõdnost√≠ se aplikace l√©pe udr≈æuje a roz≈°i≈ôuje</li>
</ul>
<p>Z√°kladem t√©to architektury je, ≈æe <strong>vnit≈ôn√≠ vrstvy</strong> aplikace (byznys logika, dom√©nov√© modely) nesm√≠ z√°viset na <strong>vnƒõj≈°√≠ch vrstv√°ch</strong> (datab√°ze, API, UI).</p>
<p>To znamen√°, ≈æe m≈Ø≈æe≈° snadno zmƒõnit technologii vnƒõj≈°√≠ vrstvy bez ovlivnƒõn√≠ vnit≈ôn√≠ logiky.</p>
<pre><code class="lang-mermaid">graph TB
    subgraph Extern√≠[&quot;Extern√≠ syst√©my&quot;]
        UI[&quot;UI vrstva&lt;br&gt;(Komponenty, Str√°nky)&quot;]
        DB[&quot;Datab√°ze&quot;]
        API[&quot;Extern√≠ API&quot;]
    end

    subgraph Aplikaƒçn√≠[&quot;Aplikaƒçn√≠ vrstva&quot;]
        UseCases[&quot;Use Cases&lt;br&gt;Slu≈æby&quot;]
        DTOs[&quot;DTO objekty&quot;]
    end

    subgraph Dom√©nov√°[&quot;Dom√©nov√° vrstva (J√°dro)&quot;]
        Entity[&quot;Entity&quot;]
        HodnotyObj[&quot;Hodnotov√© objekty&quot;]
        Domenov√©Slu≈æby[&quot;Dom√©nov√© slu≈æby&quot;]
        Pravidla[&quot;Pravidla&quot;]
    end

    subgraph Infrastruktura[&quot;Infrastrukturn√≠ vrstva&quot;]
        Repozit√°≈ôe[&quot;Repozit√°≈ôe&quot;]
        ExtSlu≈æby[&quot;Extern√≠ slu≈æby&quot;]
        Konfigurace[&quot;Konfigurace&quot;]
    end

    subgraph Sd√≠len√©[&quot;Sd√≠len√° vrstva&quot;]
        Utility[&quot;Utility&quot;]
        Typy[&quot;Typy&quot;]
        Konstanty[&quot;Konstanty&quot;]
    end

    %% Spr√°vn√© z√°vislosti - smƒõrem dovnit≈ô k dom√©nƒõ
    UI --&gt; UseCases
    UseCases --&gt; Dom√©nov√°
    Repozit√°≈ôe ---&gt; Dom√©nov√°
    ExtSlu≈æby ---&gt; Dom√©nov√°
    
    %% Implementaƒçn√≠ z√°vislosti
    Repozit√°≈ôe --&gt; DB
    ExtSlu≈æby --&gt; API
    
    %% Sd√≠len√© z√°vislosti
    Sd√≠len√© -.-&gt; UI
    Sd√≠len√© -.-&gt; Aplikaƒçn√≠
    Sd√≠len√© -.-&gt; Dom√©nov√°
    Sd√≠len√© -.-&gt; Infrastruktura

    %% Stylov√°n√≠ pro light/dark mode
    classDef default fill:#f8f9fa,stroke:#495057,stroke-width:2px,color:#212529;
    classDef core fill:#198754,stroke:#495057,stroke-width:2px,color:#fff;
    classDef external fill:#dc3545,stroke:#495057,stroke-width:2px,color:#fff;

    class Dom√©nov√° core;
    class Extern√≠ external;
</code></pre>
<h2 id="-1-architektonick√©-vrstvy--p≈ôehled">üåê 1. Architektonick√© vrstvy ‚Äì P≈ôehled</h2>
<p>Vrstvy jsou z√°kladem <strong>Clean Architecture</strong> a ka≈æd√° vrstva m√° sv≈Øj specifick√Ω √∫ƒçel:</p>
<ul>
<li><strong>UI Layer</strong>: U≈æivatelsk√© rozhran√≠ (UI), kter√© zobrazuje data u≈æivatel≈Øm a z√≠sk√°v√° jejich vstupy</li>
<li><strong>Application Layer</strong>: Zaji≈°≈•uje orchestraci akc√≠ mezi UI a dom√©novou logikou, slou≈æ√≠ pro byznys procesy</li>
<li><strong>Domain Layer</strong>: Obsahuje v≈°echny obchodn√≠ logiky, entity a pravidla aplikace</li>
<li><strong>Infrastructure Layer</strong>: Implementace komunikace s extern√≠mi syst√©my (datab√°ze, API, slu≈æby t≈ôet√≠ch stran)</li>
<li><strong>Shared Layer</strong>: Sd√≠len√© komponenty, utility a typy, kter√© jsou pou≈æiteln√© v cel√©m projektu</li>
</ul>
<h3 id="struktura-slo≈æek">Struktura slo≈æek</h3>
<pre><code>üì¶ /src
‚îú‚îÄ‚îÄ ui/                ‚Üê K√≥d pro UI (React, Flutter, SwiftUI‚Ä¶)
‚îú‚îÄ‚îÄ application/       ‚Üê Orchestrace, slu≈æby, use-cases
‚îú‚îÄ‚îÄ domain/            ‚Üê Business logika, modely, pravidla
‚îú‚îÄ‚îÄ infrastructure/    ‚Üê Datab√°ze, API, emailing, √∫lo≈æi≈°tƒõ
‚îî‚îÄ‚îÄ shared/            ‚Üê Utility, types, spoleƒçn√© vƒõci
</code></pre>
<h3 id="smƒõr-z√°vislost√≠">Smƒõr z√°vislost√≠</h3>
<p>D≈Øle≈æit√© pravidlo je, ≈æe z√°vislosti smƒõ≈ôuj√≠ dovnit≈ô:</p>
<ul>
<li>UI z√°vis√≠ na Application</li>
<li>Application z√°vis√≠ na Domain</li>
<li>Infrastructure implementuje rozhran√≠ definovan√© v Domain</li>
<li>Domain nez√°vis√≠ na ≈æ√°dn√© jin√© vrstvƒõ!</li>
</ul>
<h2 id="-2-dom√©nov√Ω-n√°vrh--srdce-aplikace">üìö 2. Dom√©nov√Ω n√°vrh ‚Äì Srdce aplikace</h2>
<p>C√≠lem dom√©nov√©ho n√°vrhu je <strong>oddƒõlit byznys logiku</strong> od technick√© implementace. Toto oddƒõlen√≠ usnad≈àuje zmƒõny v technologick√Ωch detailech, ani≈æ by to ovlivnilo samotnou logiku aplikace.</p>
<h3 id="-entity">‚úÖ Entity</h3>
<p>Entity jsou objekty s vlastn√≠ identitou a specifick√Ωm chov√°n√≠m v syst√©mu.</p>
<p><strong>Kam pat≈ô√≠</strong>: <code>/src/domain/entities/</code><br>
<strong>P≈ô√≠klady soubor≈Ø</strong>: <code>Order.js</code>, <code>User.js</code>, <code>Product.js</code></p>
<pre><code class="lang-csharp">public class Order
{
    public Order(OrderId id, List&lt;OrderItem&gt; items, UserId userId)
    {
        Id = id;
        Items = items;
        UserId = userId;
    }

    public OrderId Id { get; }
    public List&lt;OrderItem&gt; Items { get; }
    public UserId UserId { get; }

    public Money GetTotal()
    {
        return Items.Aggregate(Money.Zero(), (sum, item) =&gt; sum.Add(item.GetSubtotal()));
    }
}
</code></pre>
<h3 id="-value-objekty">üß© Value objekty</h3>
<p>Value objekty jsou objekty, kter√© jsou nemƒõnn√© a nemaj√≠ identitu. Jsou definov√°ny sv√Ωmi hodnotami.</p>
<p><strong>Kam pat≈ô√≠</strong>: <code>/src/domain/valueObjects/</code><br>
<strong>P≈ô√≠klady soubor≈Ø</strong>: <code>Email.js</code>, <code>Money.js</code>, <code>Address.js</code></p>
<pre><code class="lang-csharp">public class Email
{
    private readonly string value;
    
    public Email(string value)
    {
        if (!value.Contains(&quot;@&quot;)) throw new InvalidEmailException();
        this.value = value;
    }

    public string GetValue() =&gt; value;
}
</code></pre>
<h3 id="-dom√©nov√©-slu≈æby">üß† Dom√©nov√© slu≈æby</h3>
<p>Dom√©nov√© slu≈æby implementuj√≠ logiku, kter√° nepat≈ô√≠ p≈ô√≠mo do ≈æ√°dn√© entity a pracuje s v√≠ce entitami.</p>
<p><strong>Kam pat≈ô√≠</strong>: <code>/src/domain/services/</code><br>
<strong>P≈ô√≠klady soubor≈Ø</strong>: <code>ShippingCostService.js</code>, <code>DiscountCalculator.js</code></p>
<pre><code class="lang-csharp">public class ShippingCostService
{
    public Money Calculate(Order order)
    {
        return order.GetTotal().GreaterThan(new Money(1000)) 
            ? Money.Zero() 
            : new Money(99);
    }
}
</code></pre>
<h3 id="-policy-objekty">‚öñÔ∏è Policy objekty</h3>
<p>Policy objekty definuj√≠ pravidla, kter√° urƒçuj√≠, co je mo≈æn√© dƒõlat s entitami.</p>
<p><strong>Kam pat≈ô√≠</strong>: <code>/src/domain/policies/</code><br>
<strong>P≈ô√≠klady soubor≈Ø</strong>: <code>OrderPolicy.js</code>, <code>AccessPolicy.js</code></p>
<pre><code class="lang-csharp">public class OrderPolicy
{
    public static bool CanCancel(Order order, User user)
    {
        return order.BelongsTo(user) &amp;&amp; order.Status == &quot;NEW&quot;;
    }
}
</code></pre>
<h2 id="-3-application-layer--orchestrace-akc√≠">üß≠ 3. Application Layer ‚Äì Orchestrace akc√≠</h2>
<p>Tato vrstva je zodpovƒõdn√° za orchestraci akc√≠ mezi ostatn√≠mi vrstvami. Komunikuje s dom√©novou logikou a zaji≈°≈•uje prov√°dƒõn√≠ konkr√©tn√≠ch √∫kol≈Ø, jako je nap≈ô√≠klad vytvo≈ôen√≠ objedn√°vky.</p>
<h3 id="-usecase--service">üõ† UseCase / Service</h3>
<p>UseCases definuj√≠ konkr√©tn√≠ funkce, kter√© aplikace nab√≠z√≠. Nap≈ô√≠klad <strong>vytvo≈ôen√≠ objedn√°vky</strong>.</p>
<p><strong>Kam pat≈ô√≠</strong>: <code>/src/application/useCases/</code> nebo <code>/src/application/services/</code><br>
<strong>P≈ô√≠klady soubor≈Ø</strong>: <code>PlaceOrder.js</code>, <code>RegisterUser.js</code>, <code>GenerateReport.js</code></p>
<pre><code class="lang-csharp">public interface IPlaceOrder
{
    Task Execute(PlaceOrderInput input);
}

public class PlaceOrder : IPlaceOrder
{
    private readonly IOrderRepository orderRepo;
    private readonly IEmailService emailService;

    public PlaceOrder(IOrderRepository orderRepo, IEmailService emailService)
    {
        this.orderRepo = orderRepo;
        this.emailService = emailService;
    }

    public async Task Execute(PlaceOrderInput input)
    {
        var order = new Order(input.UserId, input.Items);
        if (order.IsEmpty()) throw new EmptyCartException();
        
        await orderRepo.Save(order);
        await emailService.SendConfirmation(input.UserId, order);
    }
}
</code></pre>
<h3 id="-dto-data-transfer-objects">üìã DTO (Data Transfer Objects)</h3>
<p>DTO objekty slou≈æ√≠ k p≈ôenosu dat mezi vrstvami, zejm√©na mezi Application a UI.</p>
<p><strong>Kam pat≈ô√≠</strong>: <code>/src/application/dtos/</code><br>
<strong>P≈ô√≠klady soubor≈Ø</strong>: <code>OrderDto.js</code>, <code>UserProfileDto.js</code></p>
<h2 id="-4-infrastructure-layer--implementace-z√°vislost√≠">üîå 4. Infrastructure Layer ‚Äì Implementace z√°vislost√≠</h2>
<p>V t√©to vrstvƒõ implementujeme konkr√©tn√≠ technologick√© detaily, jako jsou p≈ôipojen√≠ k datab√°zi, emailov√© slu≈æby nebo API t≈ôet√≠ch stran.</p>
<h3 id="-repozit√°≈ôe-db">üì¶ Repozit√°≈ôe (DB)</h3>
<p>Repozit√°≈ôe poskytuj√≠ abstrakci nad datab√°z√≠ a umo≈æ≈àuj√≠ interakci s entitami.</p>
<p><strong>Kam pat≈ô√≠</strong>: <code>/src/infrastructure/repositories/</code><br>
<strong>P≈ô√≠klady soubor≈Ø</strong>: <code>PostgresOrderRepository.js</code>, <code>MongoUserRepository.js</code></p>
<pre><code class="lang-csharp">public interface IOrderRepository
{
    Task Save(Order order);
    Task&lt;Order&gt; FindById(OrderId id);
}

public class PostgresOrderRepository : IOrderRepository
{
    public async Task Save(Order order)
    {
        // implementace ulo≈æen√≠ do Postgres DB
    }

    public async Task&lt;Order&gt; FindById(OrderId id)
    {
        // implementace naƒç√≠t√°n√≠ objedn√°vky z Postgres DB
        return null;
    }
}
</code></pre>
<h3 id="-slu≈æby-api-emailing-t≈ôet√≠-strany">üìß Slu≈æby (API, emailing, t≈ôet√≠ strany)</h3>
<p>Extern√≠ slu≈æby, jako je odes√≠l√°n√≠ email≈Ø nebo vol√°n√≠ API t≈ôet√≠ strany.</p>
<p><strong>Kam pat≈ô√≠</strong>: <code>/src/infrastructure/services/</code><br>
<strong>P≈ô√≠klady soubor≈Ø</strong>: <code>SendgridEmailService.js</code>, <code>StripePaymentService.js</code></p>
<pre><code class="lang-csharp">public interface IEmailService
{
    Task SendConfirmation(string userId, Order order);
}

public class SendgridEmailService : IEmailService
{
    public async Task SendConfirmation(string userId, Order order)
    {
        // Zavol√°n√≠ SendGrid API pro odesl√°n√≠ potvrzen√≠
    }
}
</code></pre>
<h3 id="-konfigurace">‚öôÔ∏è Konfigurace</h3>
<p>Konfigurace a nastaven√≠ aplikace, vƒçetnƒõ integrace z√°vislost√≠ (dependency injection).</p>
<p><strong>Kam pat≈ô√≠</strong>: <code>/src/infrastructure/config/</code><br>
<strong>P≈ô√≠klady soubor≈Ø</strong>: <code>dependencyInjection.js</code>, <code>dbConfig.js</code></p>
<h2 id="-5-ui-layer--vstupy--v√Ωstupy">üé® 5. UI Layer ‚Äì Vstupy &amp; V√Ωstupy</h2>
<p>UI vrstva je zodpovƒõdn√° pouze za interakci s u≈æivatelem a vol√°n√≠ p≈ô√≠slu≈°n√©ho use case nebo slu≈æby. Nikdy neobsahuje byznys logiku!</p>
<h3 id="-kontrolery-komponenty-a-presentery">üî≤ Kontrolery, Komponenty a Presentery</h3>
<p>UI vrstva zaji≈°≈•uje interakci s u≈æivatelem pro zad√°n√≠ objedn√°vky.</p>
<p><strong>Kam pat≈ô√≠</strong>: <code>/src/ui/controllers/</code>, <code>/src/ui/components/</code>, <code>/src/ui/pages/</code><br>
<strong>P≈ô√≠klady soubor≈Ø</strong>: <code>OrderController.js</code>, <code>ProductList.jsx</code>, <code>CheckoutPage.vue</code></p>
<pre><code class="lang-csharp">public class OrderController : Controller
{
    private readonly IPlaceOrder placeOrder;

    public OrderController(IPlaceOrder placeOrder)
    {
        this.placeOrder = placeOrder;
    }

    public async Task&lt;IActionResult&gt; CreateOrder(OrderInputModel input)
    {
        await placeOrder.Execute(input);
        return Ok();
    }
}
</code></pre>
<h3 id="-modely-a-valid√°tory">üì± Modely a Valid√°tory</h3>
<p>Modely pro p≈ô√≠jem dat od u≈æivatele a jejich validace.</p>
<p><strong>Kam pat≈ô√≠</strong>: <code>/src/ui/models/</code>, <code>/src/ui/validators/</code><br>
<strong>P≈ô√≠klady soubor≈Ø</strong>: <code>OrderInputModel.js</code>, <code>UserFormValidator.js</code></p>
<h2 id="-6-shared-layer--sd√≠len√°-funkcionalita">üîÑ 6. Shared Layer ‚Äì Sd√≠len√° funkcionalita</h2>
<p>Shared vrstva obsahuje k√≥d, kter√Ω je pou≈æ√≠v√°n nap≈ô√≠ƒç celou aplikac√≠ a nepat≈ô√≠ do jedn√© konkr√©tn√≠ vrstvy.</p>
<p><strong>Kam pat≈ô√≠</strong>: <code>/src/shared/</code><br>
<strong>P≈ô√≠klady soubor≈Ø</strong>: <code>types.js</code>, <code>constants.js</code>, <code>utils.js</code>, <code>logger.js</code></p>
<h3 id="-utility-a-pomocn√©-funkce">üß∞ Utility a pomocn√© funkce</h3>
<p>Univerz√°ln√≠ pomocn√© funkce pou≈æ√≠van√© v cel√©m projektu.</p>
<pre><code class="lang-javascript">export function formatDate(date) {
  return new Intl.DateTimeFormat('cs-CZ').format(date);
}

export function generateId() {
  return Math.random().toString(36).substr(2, 9);
}
</code></pre>
<h3 id="-typy-a-konstanty">üè∑Ô∏è Typy a konstanty</h3>
<p>Sd√≠len√© typy a konstanty pro celou aplikaci.</p>
<pre><code class="lang-javascript">export const ORDER_STATUS = {
  NEW: 'NEW',
  PENDING: 'PENDING',
  SHIPPED: 'SHIPPED',
  DELIVERED: 'DELIVERED',
  CANCELLED: 'CANCELLED'
};
</code></pre>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/HopefulDavid/docs_developer/blob/main/programming/cleanArchitecture.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
